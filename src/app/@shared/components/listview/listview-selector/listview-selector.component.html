<div class="modal-header">
  <h5 class="mb-0 fw-bold">Seleccionar</h5>
</div>
<div class="modal-body">
  <ng-select
    [multiple]="true"
    [(ngModel)]="selection"
    [items]="data"
    bindLabel="name"
    bindValue="id"
    class="list-view-select"
    #select
    [isOpen]="true"
    [editableSearchTerm]="true"
    [dropdownPosition]="'bottom'"
    notFoundText="No se encontraron elementos"
    [clearOnBackspace]="false"
    [searchable]="true"
  >
    <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
      <div class="d-flex align-items-center">
        <img class="img-thumb me-2" width="40" height="40" [src]="getImage(item)" alt="{{ item.name }} image" />
        <span class="text-truncate flex-grow-1" [ngOptionHighlight]="search">
          {{ item.name }}
        </span>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" [checked]="isSelected(item.id)" />
        </div>
      </div>
    </ng-template>
    <ng-template ng-header-tmp>
      <input
        placeholder="Buscar..."
        class="form-control form-control-sm"
        type="search"
        (input)="select.filter($event.target['value'])"
      />
    </ng-template>
  </ng-select>
</div>
<div class="modal-footer">
  <button class="btn btn-light text-primary" (click)="onDismiss()">Cerrar</button>
  <button class="btn btn-primary" (click)="onDone()">Aceptar</button>
</div>
